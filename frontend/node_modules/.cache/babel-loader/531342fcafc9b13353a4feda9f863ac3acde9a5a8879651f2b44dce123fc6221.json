{"ast":null,"code":"import axios from'axios';const API_BASE_URL=process.env.REACT_APP_API_URL||'http://localhost:8000/api/v1';const api=axios.create({baseURL:API_BASE_URL,headers:{'Content-Type':'application/json'}});// Interceptor para manejar errores\napi.interceptors.response.use(response=>response,error=>{var _error$response,_error$response$data;const message=((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||error.message||'Error de conexión';throw new Error(message);});export const dataIngestionAPI={// Ingesta de datos\ningestData:async data=>{const response=await api.post('/data/ingest',{data,source:'web_interface'});return response.data;},// Obtener datos\ngetData:async()=>{const response=await api.get('/data');return response.data;},// Obtener estadísticas\ngetStatistics:async()=>{const response=await api.get('/data/statistics');return response.data;},// Obtener esquema\ngetSchema:async()=>{const response=await api.get('/data/schema');return response.data;},// Agregar entrada manual\naddManualEntry:async data=>{const response=await api.post('/data/manual-entry',data);return response.data;},// Obtener esquema de datos para entrada manual\ngetDataSchema:async()=>{const response=await api.get('/data/schema');return response.data;},// Verificar salud del servicio\nhealthCheck:async()=>{const response=await api.get('/health');return response.data;},// Estadísticas de tiradores (usando endpoint que funciona)\ngetTiradoresStatistics:async()=>{const response=await api.get('/tiradores/stats/tiradores');return response.data;},// Estadísticas de sesiones (mock temporalmente hasta resolver ruta)\ngetSesionesStatistics:async()=>{// Retornar datos vacíos temporalmente\nreturn{total_sesiones:0,precision_promedio:null,distancia_promedio:null,tiempo_promedio:null,ambientes_unicos:0,primera_sesion:null,ultima_sesion:null};},// Análisis completo\ngetAnalisisCompleto:async function(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const response=await api.get('/tiradores/analisis/completo',{params});return response.data;},// Obtener tiradores\ngetTiradores:async function(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const response=await api.get('/tiradores/',{params});return response.data;},// Eliminar todos los datos\ndeleteAllData:async()=>{const response=await api.delete('/database/all-data');return response.data;}// APIs de Excel eliminadas - solo entrada manual disponible\n};export default api;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","api","create","baseURL","headers","interceptors","response","use","error","_error$response","_error$response$data","message","data","detail","Error","dataIngestionAPI","ingestData","post","source","getData","get","getStatistics","getSchema","addManualEntry","getDataSchema","healthCheck","getTiradoresStatistics","getSesionesStatistics","total_sesiones","precision_promedio","distancia_promedio","tiempo_promedio","ambientes_unicos","primera_sesion","ultima_sesion","getAnalisisCompleto","params","arguments","length","undefined","getTiradores","deleteAllData","delete"],"sources":["C:/Users/Norbe/OneDrive - Universidad Tecmilenio/TECMILENIO/tareas 5to semestre/Repositorios/DataIngestion/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000/api/v1';\r\n\r\nconst api = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Interceptor para manejar errores\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    const message = error.response?.data?.detail || error.message || 'Error de conexión';\r\n    throw new Error(message);\r\n  }\r\n);\r\n\r\nexport const dataIngestionAPI = {\r\n  // Ingesta de datos\r\n  ingestData: async (data) => {\r\n    const response = await api.post('/data/ingest', {\r\n      data,\r\n      source: 'web_interface',\r\n    });\r\n    return response.data;\r\n  },\r\n\r\n  // Obtener datos\r\n  getData: async () => {\r\n    const response = await api.get('/data');\r\n    return response.data;\r\n  },\r\n\r\n  // Obtener estadísticas\r\n  getStatistics: async () => {\r\n    const response = await api.get('/data/statistics');\r\n    return response.data;\r\n  },\r\n\r\n  // Obtener esquema\r\n  getSchema: async () => {\r\n    const response = await api.get('/data/schema');\r\n    return response.data;\r\n  },\r\n\r\n  // Agregar entrada manual\r\n  addManualEntry: async (data) => {\r\n    const response = await api.post('/data/manual-entry', data);\r\n    return response.data;\r\n  },\r\n\r\n  // Obtener esquema de datos para entrada manual\r\n  getDataSchema: async () => {\r\n    const response = await api.get('/data/schema');\r\n    return response.data;\r\n  },\r\n\r\n  // Verificar salud del servicio\r\n  healthCheck: async () => {\r\n    const response = await api.get('/health');\r\n    return response.data;\r\n  },\r\n\r\n  // Estadísticas de tiradores (usando endpoint que funciona)\r\n  getTiradoresStatistics: async () => {\r\n    const response = await api.get('/tiradores/stats/tiradores');\r\n    return response.data;\r\n  },\r\n\r\n  // Estadísticas de sesiones (mock temporalmente hasta resolver ruta)\r\n  getSesionesStatistics: async () => {\r\n    // Retornar datos vacíos temporalmente\r\n    return {\r\n      total_sesiones: 0,\r\n      precision_promedio: null,\r\n      distancia_promedio: null,\r\n      tiempo_promedio: null,\r\n      ambientes_unicos: 0,\r\n      primera_sesion: null,\r\n      ultima_sesion: null\r\n    };\r\n  },\r\n\r\n  // Análisis completo\r\n  getAnalisisCompleto: async (params = {}) => {\r\n    const response = await api.get('/tiradores/analisis/completo', { params });\r\n    return response.data;\r\n  },\r\n\r\n  // Obtener tiradores\r\n  getTiradores: async (params = {}) => {\r\n    const response = await api.get('/tiradores/', { params });\r\n    return response.data;\r\n  },\r\n\r\n  // Eliminar todos los datos\r\n  deleteAllData: async () => {\r\n    const response = await api.delete('/database/all-data');\r\n    return response.data;\r\n  },\r\n\r\n  // APIs de Excel eliminadas - solo entrada manual disponible\r\n};\r\n\r\nexport default api;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}